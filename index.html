<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400;600&display=swap" rel="stylesheet">
  <link href="css/main.css" rel="stylesheet">
</head>

<body>
  <!-- <audio autoplay="autopaly">
      <source src="renxi.mp3" type="audio/mp3" />
    </audio> -->
  <!-- 星空html -->
  <!-- <div> -->
  <div class="container2">
    <div class="content">
      <canvas id="universe"></canvas>
    </div>
  </div>
  <!-- </div> -->
  <div class="title">
    <!-- EDIT HERE -->
    <h3 class="STARDUST1">2023</h3>
    <h1 class="STARDUST2">CB &amp; TT</h1>
    <h3 class="STARDUST3">L O V E <strong>❤</strong> Y O U</h3>
    <img class="img img-active" src="img/1E1C711A-DCF0-4696-B30F-A6435626BD04.jpg" alt="CB&TT" />
    <img class="img" src="img/927613EE-E7F5-4F1D-9013-05C907552E63.jpg" alt="CB&TT" />
    <img class="img" src="img/989277A9-C2E8-4A86-880D-2DD63D78FCAC.png" alt="CB&TT" />
    <img class="img" src="img/067E9F84-6611-44C4-A971-3C14BCB1C52C.jpg" alt="CB&TT" />
    <img class="img" src="img/64F6764E-8787-43B4-BDF0-756D7742C7FF.jpg" alt="CB&TT" />
    <canvas id="pinkboard"></canvas>
  </div>
  <div class="div-text-content">
    <h1 class="text-content text-content-active">Gửi em</h1>
    <h1 class="text-content">Người con gái</h1>
    <h1 class="text-content">Mà anh thương nhớ</h1>
    <h1 class="text-content">Yêu em</h1>
    <!-- <h1 class="text-content">Trần Thị Thanh Thảo</h1> -->
    <h1 class="text-content">
      <span>T</span>
      <span>r</span>
      <span>ầ</span>
      <span>n</span>
      <span>T</span>
      <span>h</span>
      <span>ị</span>
      <span>T</span>
      <span>h</span>
      <span>a</span>
      <span>n</span>
      <span>h</span>
      <span>T</span>
      <span>h</span>
      <span>ả</span>
      <span>o</span>
    </h1>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="js/main.js"></script>
  <script src="js/particle.js"></script>
  <script src="js/universe.js"></script>
  <script>
    $(document).ready(function () {
      setInterval(handlerClassImg, 10000);
      const textInterval = setInterval(handlerClassText, 3000);
      var audio = new Audio('audio/NgayDauTienNhacChuong-DucPhuc-7465502.mp3');
      window.addEventListener('click', function (e) {
        if (e) {
          playAudio();
        }
      });

      window.addEventListener('touchstart', function (e) {
        if (e) {
          playAudio();
        }
      });

      function playAudio() {
        audio.loop = true;
        if (audio.paused) {
          audio.play();
        } else {
          audio.pause();
        }
      }

      function handlerClassImg() {
        var elements = $('.img');
        var index = 0;
        for (var i = 0; i < elements.length; i++) {
          if ($(elements[i]).hasClass('img-active')) {
            index = i;
          }
        }

        $('.img').removeClass('img-active');
        $(elements[index == elements.length - 1 ? 0 : index + 1]).addClass('img-active');
      }

      function handlerClassText() {
        var elements = $('.text-content');
        var indexT = 0;
        for (var i = 0; i < elements.length; i++) {
          if ($(elements[i]).hasClass('text-content-active')) {
            indexT = i;
          }
        }
        if (indexT == elements.length - 1) {
          clearInterval(textInterval);
          setTimeout(__ => {
            $('.text-content').removeClass('text-content-active');
            $(elements[0]).addClass('text-content-active');
            setInterval(handlerClassText, 3000);
          }, 5000);
        } else {
          if (indexT == elements.length - 2) {
            setTimeout(_ => {
              $(elements[indexT + 1]).addClass('box');
            });
          } else {
            $('.text-content').removeClass('box');
          }

          $('.text-content').removeClass('text-content-active');
          $(elements[indexT == elements.length - 1 ? 0 : indexT + 1]).addClass('text-content-active');
        }
      }
    });
  </script>
</body>

</html>